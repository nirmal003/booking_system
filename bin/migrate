#!/usr/bin/env node

/**
 * Database Migration Runner
 * Runs all pending Sequelize migrations
 */

const { exec } = require('child_process');
const path = require('path');

console.log('üîÑ Running database migrations...\n');

const command = 'npx sequelize-cli db:migrate';

exec(command, { cwd: path.join(__dirname, '..') }, (error, stdout, stderr) => {
  if (error) {
    console.error('‚ùå Migration failed:', error.message);
    process.exit(1);
  }

  if (stderr) {
    console.error(stderr);
  }

  console.log(stdout);
  console.log('‚úÖ Migrations completed successfully!\n');
  process.exit(0);
});
